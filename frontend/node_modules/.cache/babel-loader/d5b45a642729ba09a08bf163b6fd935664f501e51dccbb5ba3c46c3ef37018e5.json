{"ast":null,"code":"var _jsxFileName = \"D:\\\\OKUL PROJE DENEME ALANI\\\\yenisi\\\\Demo6\\\\frontend\\\\src\\\\components\\\\Products\\\\Context.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/React.createContext();\nexport class DataProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.addCart = id => {\n      const {\n        products,\n        cart\n      } = this.state;\n      const check = cart.every(item => {\n        return item._id !== id;\n      });\n      if (check) {\n        const data = products.filter(product => {\n          return product._id === id;\n        });\n        this.setState({\n          cart: [...cart, ...data]\n        });\n      } else {\n        alert(\"The product has been added to cart.\");\n      }\n    };\n    this.reduction = id => {\n      const {\n        cart\n      } = this.state;\n      cart.forEach(item => {\n        if (item._id === id) {\n          item.count === 1 ? item.count = 1 : item.count -= 1;\n        }\n      });\n      this.setState({\n        cart: cart\n      });\n      this.getTotal();\n    };\n    this.increase = id => {\n      const {\n        cart\n      } = this.state;\n      cart.forEach(item => {\n        if (item._id === id) {\n          item.count += 1;\n        }\n      });\n      this.setState({\n        cart: cart\n      });\n      this.getTotal();\n    };\n    this.removeProduct = id => {\n      if (window.confirm(\"Do you want to delete this product?\")) {\n        const {\n          cart\n        } = this.state;\n        cart.forEach((item, index) => {\n          if (item._id === id) {\n            cart.splice(index, 1);\n          }\n        });\n        this.setState({\n          cart: cart\n        });\n        this.getTotal();\n      }\n    };\n    this.getTotal = () => {\n      const {\n        cart\n      } = this.state;\n      const res = cart.reduce((prev, item) => {\n        return prev + item.price * item.count;\n      }, 0);\n      this.setState({\n        total: res\n      });\n    };\n  }\n  componentDidUpdate() {\n    localStorage.setItem('dataCart', JSON.stringify(this.state.cart));\n    localStorage.setItem('dataTotal', JSON.stringify(this.state.total));\n  }\n  componentDidMount() {\n    const dataCart = JSON.parse(localStorage.getItem('dataCart'));\n    if (dataCart !== null) {\n      this.setState({\n        cart: dataCart\n      });\n    }\n    const dataTotal = JSON.parse(localStorage.getItem('dataTotal'));\n    if (dataTotal !== null) {\n      this.setState({\n        total: dataTotal\n      });\n    }\n  }\n  render() {\n    const {\n      products,\n      cart,\n      total\n    } = this.state;\n    const {\n      addCart,\n      reduction,\n      increase,\n      removeProduct,\n      getTotal\n    } = this;\n    return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n      value: {\n        products,\n        addCart,\n        cart,\n        reduction,\n        increase,\n        removeProduct,\n        total,\n        getTotal\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","DataContext","createContext","DataProvider","constructor","args","addCart","id","products","cart","state","check","every","item","_id","data","filter","product","setState","alert","reduction","forEach","count","getTotal","increase","removeProduct","window","confirm","index","splice","res","reduce","prev","price","total","componentDidUpdate","localStorage","setItem","JSON","stringify","componentDidMount","dataCart","parse","getItem","dataTotal","render","Provider","value","children","props","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/OKUL PROJE DENEME ALANI/yenisi/Demo6/frontend/src/components/Products/Context.js"],"sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport const DataContext = React.createContext();\r\n\r\nexport class DataProvider extends Component {\r\n\r\n \r\n\r\n    addCart = (id) =>{\r\n        const {products, cart} = this.state;\r\n        const check = cart.every(item =>{\r\n            return item._id !== id\r\n        })\r\n        if(check){\r\n            const data = products.filter(product =>{\r\n                return product._id === id\r\n            })\r\n            this.setState({cart: [...cart,...data]})\r\n        }else{\r\n            alert(\"The product has been added to cart.\")\r\n        }\r\n    };\r\n\r\n    reduction = id =>{\r\n        const { cart } = this.state;\r\n        cart.forEach(item =>{\r\n            if(item._id === id){\r\n                item.count === 1 ? item.count = 1 : item.count -=1;\r\n            }\r\n        })\r\n        this.setState({cart: cart});\r\n        this.getTotal();\r\n    };\r\n\r\n    increase = id =>{\r\n        const { cart } = this.state;\r\n        cart.forEach(item =>{\r\n            if(item._id === id){\r\n                item.count += 1;\r\n            }\r\n        })\r\n        this.setState({cart: cart});\r\n        this.getTotal();\r\n    };\r\n\r\n    removeProduct = id =>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            const {cart} = this.state;\r\n            cart.forEach((item, index) =>{\r\n                if(item._id === id){\r\n                    cart.splice(index, 1)\r\n                }\r\n            })\r\n            this.setState({cart: cart});\r\n            this.getTotal();\r\n        }\r\n       \r\n    };\r\n\r\n    getTotal = ()=>{\r\n        const{cart} = this.state;\r\n        const res = cart.reduce((prev, item) => {\r\n            return prev + (item.price * item.count);\r\n        },0)\r\n        this.setState({total: res})\r\n    };\r\n    \r\n    componentDidUpdate(){\r\n        localStorage.setItem('dataCart', JSON.stringify(this.state.cart))\r\n        localStorage.setItem('dataTotal', JSON.stringify(this.state.total))\r\n    };\r\n\r\n    componentDidMount(){\r\n        const dataCart = JSON.parse(localStorage.getItem('dataCart'));\r\n        if(dataCart !== null){\r\n            this.setState({cart: dataCart});\r\n        }\r\n        const dataTotal = JSON.parse(localStorage.getItem('dataTotal'));\r\n        if(dataTotal !== null){\r\n            this.setState({total: dataTotal});\r\n        }\r\n    }\r\n   \r\n\r\n    render() {\r\n        const {products, cart,total} = this.state;\r\n        const {addCart,reduction,increase,removeProduct,getTotal} = this;\r\n        return (\r\n            <DataContext.Provider \r\n            value={{products, addCart, cart, reduction,increase,removeProduct,total,getTotal}}>\r\n                {this.props.children}\r\n            </DataContext.Provider>\r\n        )\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}